# 安全声明

## 安全须知

使用MindIE时，为保证安全，用户应根据自身业务，审视整个系统的网络安全加固措施，按照所在组织的安全策略进行相关配置，包括但不局限于软件版本、口令复杂度要求、安全配置（协议、加密套件、秘钥长度等），权限配置、防火墙设置等。关于更多安全声明与建议可参考[昇腾社区MindIE安全管理与加固](https://www.hiascend.com/document/detail/zh/mindie/22RC1/envdeployment/instg/mindie_instg_0041.html)，以社区最新版本为准。

## 运行环境建议

- 为减少潜在的安全风险，建议使用非root、非管理员类型账户执行系统操作，确保只有root才是系统的最高权限用户，确保系统中各系统账号的UID不同，遵循权限最小化原则。

## 文件权限控制

- 建议用户将主机（包括宿主机）和容器中的umask设置为0027及以上，提高安全性。
- 建议用户对个人隐私数据、商业资产、业务开发相关的各类包含敏感内容的文件做好访问权限控制。例如本项目中安装目录权限管控、数据文件权限管控，设定的权限可参考[A-文件（夹）各场景权限管控推荐最大值](#A-文件（夹）各场景权限管控推荐最大值)。
- 禁止使用SetUID或SetGID等特殊权限的shell脚本。
- 禁止使用高危capability的可执行文件。
- 系统中不允许存在无属主的文件。

## 构建安全声明

- 本项目需要自行编译构建出包，编译过程会产生一些中间文件，建议用户对中间文件做好权限控制。
- 本项目涉及Python whl包安装，为避免其他用户直接访问和修改Python代码引起代码篡改、伪造等风险，建议用户设置Python为仅安装用户可修改和使用。

## 运行安全声明

- 为避免服务和客户端通信过程信息泄露，建议用户启用HTTPS通信并启用双向认证，如果启用，建议对通信认证涉及的证书、私钥、口令等做好安全访问控制。
- 在进行TCP远程访问时，建议用户开启TLS认证，并使用安全协议，如SSHv2、TLS1.2、TLS1.3、IPsec、SFTP、SNMPv3等。
- MindIE仅提供部分流控能力，且不直接对接公网，建议用户对MindIE流控和公网、局域网隔离做好控制。
- 对于全网侦听的端口和其他端口，如非必要建议关闭。
- 建议用户关闭不安全的服务，如Telnet、FTP等。
- 用户可以根据自身业务，按IP地址限制与服务器的连接速率对系统进行防DoS攻击，方法包括但不限于利用Linux系统自带iptables防火墙进行预防、优化sysctl参数等。
- 为阻止缓冲区溢出攻击，建议用户开启缓冲区溢出保护。
- 本项目涉及Gloo集合通信，用户可根据业务场景，开启Gloo TLS配置保证集合通信安全。

## 公网地址声明
本项目代码中包含的公网地址声明可参考[昇腾社区MindIE公网URL](https://www.hiascend.com/document/detail/zh/mindie/22RC1/envdeployment/instg/mindie_instg_0089.html)，以社区最新版本为准。

## 漏洞机制说明
[漏洞管理](https://gitcode.com/Ascend/community/blob/master/docs/security.md)

## 附录

### A-文件（夹）各场景权限管控推荐最大值

| 类型           | Linux权限参考最大值 |
| -------------- | ---------------  |
| 用户主目录                        |   750（rwxr-x---）            |
| 程序文件（含脚本文件、库文件等）       |   550（r-xr-x---）             |
| 程序文件目录                      |   550（r-xr-x---）            |
| 配置文件                          |  640（rw-r-----）             |
| 配置文件目录                      |   750（rwxr-x---）            |
| 日志文件（记录完毕或者已经归档）        |  440（r--r-----）             |
| 日志文件（正在记录）                |    640（rw-r-----）           |
| 日志文件目录                      |   750（rwxr-x---）            |
| Debug文件                         |  640（rw-r-----）         |
| Debug文件目录                     |   750（rwxr-x---）  |
| 临时文件目录                      |   750（rwxr-x---）   |
| 维护升级文件目录                  |   770（rwxrwx---）    |
| 业务数据文件                      |   640（rw-r-----）    |
| 业务数据文件目录                  |   750（rwxr-x---）      |
| 密钥组件、私钥、证书、密文文件目录    |  700（rwx-----）      |
| 密钥组件、私钥、证书、加密密文        | 600（rw-------）      |
| 加解密接口、加解密脚本            |   500（r-x------）        |